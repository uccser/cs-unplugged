{% extends "base-educators.html" %}

{% load i18n %}
{% load static %}
{% load render_html_field %}
{% load django_bootstrap_breadcrumbs %}

{% block title %}
  {{ topic.name }}
{% endblock title %}

{% block breadcrumbs %}
  {% breadcrumb "Topics" "topics:index" %}
  {% breadcrumb topic.name "topics:topic" topic.slug %}
{% endblock breadcrumbs %}

{% block page_heading %}
  <h1 id="{{ topic.slug }}">{{ topic.name }}</h1>
  {% if not topic.translation_available %}
    {% url "topics:index" as url %}
    {% trans "Return to list of topics" as url_label %}
    {% with model=topic %}
      {% include 'topics/not-available-warning.html' %}
    {% endwith %}
  {% endif %}

  <div class="pb-3">
    {% if topic.translation_available %}
        {% render_html_field topic.content %}
    {% endif %}
  </div>
{% endblock page_heading %}

{% block content_container %}
    <div class="col-12 col-lg-6 col-xl-5">
        {% if topic.translation_available %}
            <h2>{% trans "What's it all about?" %}</h2>
            {% render_html_field topic.whats_it_all_about as whats_it_all_about_html %}
            {{ whats_it_all_about_html|truncatewords_html:150 }}

            <p class="text-center">
                <a href="{% url 'topics:topic_whats_it_all_about' topic.slug %}" class="btn btn-outline-primary">
                    {% trans "Read more..." %}
                    {% if topic.computational_thinking_links %}
                        <br>
                        <small>
                            {% trans "Includes links to computational thinking" %}
                        </small>
                    {% endif %}
                </a>
            </p>
        {% endif %}
    </div>

    <div class="col-12 col-lg-6 col-xl-7">
        {% if grouped_lessons %}
            <h2 id="lessons">{% trans "Lessons" %}</h2>
            {% include "topics/lessons-table.html" %}
        {% endif %}

        {% if curriculum_integrations %}
            <h2 id="integrations">{% trans "Curriculum Integrations" %}</h2>
            {% include "topics/curriculum-integrations-table.html" %}
        {% endif %}

        {% if topic.other_resources %}
            <h2 id="other-resources">{% trans "Looking for more?" %}</h2>
            <p>
                <a href="{% url 'topics:other_resources' topic.slug %}">
                    {% trans "Click here for other resources" %}
                </a>
            </p>
        {% endif %}
    </div>
{% endblock content_container %}
