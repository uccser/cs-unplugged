// Default mixins and settings -----------------
@import "node_modules/reveal.js/css/theme/template/mixins";
@import "node_modules/reveal.js/css/theme/template/settings";
@import "core-variables";

// Background of the presentation
$backgroundColor: $background-colour;

// Primary/body text
$mainFont: $font-family-sans-serif;
$mainFontSize: 3em;
$mainColor: #222;

// Vertical spacing between blocks of text
$blockMargin: 20px;

// Headings
$headingMargin: 0 0 $blockMargin 0;
$headingFont: $headings-font-family;
$headingColor: #222;
$headingLineHeight: 1.2;
$headingLetterSpacing: normal;
$headingTextTransform: normal;
$headingTextShadow: none;
$headingFontWeight: normal;
$heading1TextShadow: $headingTextShadow;

$heading1Size: 3.77em;
$heading2Size: 2.11em;
$heading3Size: 1.55em;
$heading4Size: 1.00em;

$codeFont: monospace;

// Links and actions
$linkColor: #2a76dd;
$linkColorHover: lighten($linkColor, 20%);

// Text selection
$selectionBackgroundColor: #FF5E99;
$selectionColor: #fff;

// Generates the presentation background, can be overridden
// to return a background image or gradient
@mixin bodyBackground() {
    background: $backgroundColor;
}

// Custom variables
$footer-height: 3rem;

// Change text colors against dark slide backgrounds
// @include dark-bg-text-color(#fff);

// Custom theme rules

#slides {

    // Font
    @for $i from 1 through 20 {
        .r-font-size-#{$i} {
            font-size: $i * 0.5em;
        }
    }
    .r-left-align {
        text-align: left;
    }
    .r-bold {
        font-weight: bold;
    }
    p {
        margin: 0 0 1rem 0;
    }
    p:last-child {
        margin: 0;
    }

    // Colour overrides
    .r-text-green {
        color: #17BA1F;
    }
    .r-text-blue {
        color: #0F70B7;
    }
    .r-text-purple {
        color: #82358C;
    }
    .r-text-red {
        color: #E30613;
    }
    .r-text-yellow {
        color: #F0DA18;
    }
    .r-text-black {
        color: black;
    }
    .r-text-white {
        color: white;
    }

    // Layout
    .r-centered {
        top: 0;
        bottom: 0;
        display: flex !important;
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: center;
    }
    .r-flex-grow {
        flex-grow: 1;
    }

    .r-grid {
        display: grid;
    }
    .r-grid-columns{
        grid-auto-flow: column;
        grid-auto-columns: 1fr;
    }
    .r-flex {
        display: flex;
    }
    .r-flex-align-items-center {
        align-items: center;
    }
    .r-flex-justify-content-center {
        justify-content: center;
    }

    // Other
    iframe {
        border: none;
    }
    &.embed-responsive .reveal .slides section iframe {
        position: initial;
    }
}

// Speaker notes

$speech-bubble-background: mix(#fff, $at-a-distance-colour, 95%);

.reveal .speaker-notes {

    font-family: $font-family-sans-serif;

    p {
        line-height: inherit;
    }

    .speech-bubble {
        background: $speech-bubble-background;
        border: 1px solid $at-a-distance-colour;
        border-radius: 1rem;
        margin: 0 0 1.5em 0;
        padding: 0.5em;
        position: relative;

        blockquote {
            // Overrides for reveal theme defaults
            margin: 0;
            padding: 0;
            box-shadow: none;
            background: none;
            width: auto;
        }

        .speech-bubble-arrow {
            border-left: 21px solid transparent;
            bottom: -25px;
            position: absolute;
            right: 15px;

            &::before {
                border-left: 23px solid transparent;
                border-top: 23px solid $at-a-distance-colour;
                bottom: 2px;
                content: "";
                position: absolute;
                right: 5px;
            }

            &::after {
                border-left: 21px solid transparent;
                border-top: 21px solid $speech-bubble-background;
                bottom: 4px;
                content: "";
                position: absolute;
                right: 6px;
            }
        }
    }
}

// Footer
.reveal > .footer {
    position: absolute;
    height: $footer-height;
    bottom: 0;
    font-size: 0.5em;
    color: $at-a-distance-colour;
    width: 100%;
    z-index: 10;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    padding-left: 5px;

    img {
        margin: 0;
    }
}
.reveal.has-dark-background > .footer {
    color: white;
}

/*
Spacer to prevent the content from running into the footer.
From https://github.com/hakimel/reveal.js/issues/2707#issuecomment-647708919
*/
.reveal .slides section::after {
    content: ' ';
    display: block;
    height: $footer-height;
}


@import "node_modules/reveal.js/css/theme/template/theme";
